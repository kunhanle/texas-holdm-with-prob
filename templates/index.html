<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>德州撲克教學版 | Texas Hold'em</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- 開始畫面 -->
    <div id="start-screen" class="screen active">
        <div class="start-container">
            <div class="logo">
                <span class="suit">♠</span>
                <span class="suit red">♥</span>
                <span class="suit">♣</span>
                <span class="suit red">♦</span>
            </div>
            <h1>德州撲克教學版</h1>
            <p class="subtitle">學習用機率做決策</p>

            <div class="settings">
                <div class="setting-group">
                    <label>對手數量</label>
                    <div class="button-group">
                        <button class="btn-option" data-opponents="3">3</button>
                        <button class="btn-option active" data-opponents="4">4</button>
                        <button class="btn-option" data-opponents="5">5</button>
                    </div>
                </div>
                <div class="setting-group">
                    <label>AI 難度</label>
                    <div class="button-group">
                        <button class="btn-option" data-difficulty="easy">初級</button>
                        <button class="btn-option active" data-difficulty="medium">中級</button>
                        <button class="btn-option" data-difficulty="hard">高級</button>
                    </div>
                </div>
            </div>

            <button id="btn-start" class="btn-primary">開始遊戲</button>

            <div class="tips">
                <h3>💡 學習重點</h3>
                <ul>
                    <li>勝率 &gt; 底池賠率 = 跟注有利</li>
                    <li>機率有利時下大注，不利時棄牌</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 遊戲畫面 -->
    <div id="game-screen" class="screen">
        <header>
            <div class="game-info">
                <span class="hand-number">第 <span id="hand-num">1</span> 局</span>
                <span class="stage" id="stage">等待中</span>
            </div>
            <div class="pot-display">
                <span class="pot-label">底池</span>
                <span class="pot-amount" id="pot">$0</span>
            </div>
        </header>

        <main class="table-area">
            <!-- AI 玩家區域 -->
            <div class="opponents" id="opponents"></div>

            <!-- 公共牌區域 -->
            <div class="community-cards">
                <div class="cards-container" id="community-cards">
                    <div class="card placeholder"></div>
                    <div class="card placeholder"></div>
                    <div class="card placeholder"></div>
                    <div class="card placeholder"></div>
                    <div class="card placeholder"></div>
                </div>
            </div>

            <!-- 訊息區域 -->
            <div class="messages" id="messages"></div>
        </main>

        <!-- 分析面板 -->
        <aside class="analysis-panel">
            <div class="panel probability-panel">
                <h3>📊 機率分析</h3>
                <div id="probability-content">
                    <div class="stat">
                        <span class="label">勝率</span>
                        <span class="value" id="win-rate">--</span>
                    </div>
                    <div class="stat">
                        <span class="label">底池賠率</span>
                        <span class="value" id="pot-odds">--</span>
                    </div>
                    <div class="stat">
                        <span class="label">期望值</span>
                        <span class="value" id="ev">--</span>
                    </div>
                    <div class="outs-section" id="outs-section"></div>
                </div>
            </div>

            <div class="panel advice-panel">
                <h3>💡 教學建議</h3>
                <div id="advice-content">
                    <div class="advice-action" id="advice-action">等待開始...</div>
                    <div class="advice-reason" id="advice-reason"></div>
                    <ul class="teaching-points" id="teaching-points"></ul>
                </div>
            </div>
        </aside>

        <!-- 玩家區域 -->
        <footer class="player-area">
            <div class="player-info">
                <div class="player-cards" id="player-cards"></div>
                <div class="player-stats">
                    <div class="current-hand" id="current-hand"></div>
                    <div class="chips">籌碼: <span id="player-chips">$1000</span></div>
                </div>
            </div>

            <div class="actions" id="actions">
                <button class="btn-action fold" data-action="fold">棄牌</button>
                <button class="btn-action check" data-action="check">過牌</button>
                <button class="btn-action bet" data-action="bet">下注</button>
                <button class="btn-action call" data-action="call">跟注 $0</button>
                <button class="btn-action raise" data-action="raise">加注</button>
                <button class="btn-action allin" data-action="all_in">All-in</button>
            </div>
        </footer>

        <!-- 加注彈窗 -->
        <div class="modal" id="raise-modal">
            <div class="modal-content">
                <h3>選擇加注金額</h3>
                <input type="range" id="raise-slider" min="0" max="1000" value="100">
                <div class="raise-amount">$<span id="raise-amount">100</span></div>
                <div class="modal-actions">
                    <button class="btn-secondary" id="raise-cancel">取消</button>
                    <button class="btn-primary" id="raise-confirm">確認加注</button>
                </div>
            </div>
        </div>

        <!-- 結果彈窗 -->
        <div class="modal" id="result-modal">
            <div class="modal-content result-content">
                <h2 id="result-title">本局結束</h2>
                <div class="winner-info" id="winner-info"></div>
                <div class="hands-reveal" id="hands-reveal"></div>
                <button class="btn-primary" id="next-hand">下一局</button>
            </div>
        </div>

        <!-- 遊戲結束彈窗 -->
        <div class="modal" id="gameover-modal">
            <div class="modal-content">
                <h2>遊戲結束</h2>
                <div id="gameover-message"></div>
                <button class="btn-primary" id="restart-game">重新開始</button>
            </div>
        </div>
    </div>

    <script src="/static/js/game.js"></script>
</body>

</html>